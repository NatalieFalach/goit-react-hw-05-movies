"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[211],{4591:function(t,n,e){e.d(n,{Hg:function(){return u},Ku:function(){return l},UN:function(){return g},fI:function(){return h},ts:function(){return f}});var r=e(5861),i=e(7757),o=e.n(i),a=e(3263);a.Z.defaults.baseURL="https://api.themoviedb.org/3";var c="8b8b26a0b27e03ef23871d035772175e";function u(){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(o().mark((function t(){var n,e,r,i=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:1,t.next=3,a.Z.get("/trending/movie/day",{params:{api_key:c,page:n}});case 3:return e=t.sent,r=e.data,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function f(t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(o().mark((function t(n){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("movie/".concat(n),{params:{api_key:c}});case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(o().mark((function t(n){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("movie/".concat(n,"/credit"),{params:{api_key:c}});case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(o().mark((function t(n){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("movie/".concat(n,"/reviews"),{params:{api_key:c}});case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t){return y.apply(this,arguments)}function y(){return(y=(0,r.Z)(o().mark((function t(n){var e,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.Z.get("search/movie",{params:{api_key:c,query:n}});case 2:return e=t.sent,r=e.data,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},3291:function(t,n,e){e.d(n,{Z:function(){return y}});var r,i,o,a,c=e(168),u=e(6444),s=e(1087),f=u.ZP.li(r||(r=(0,c.Z)(["\n  margin-bottom: 20px;\n  width: 200px;\n  text-decoration: none;\n  text-align: center;\n"]))),p=(0,u.ZP)(s.rU)(i||(i=(0,c.Z)(["\n  text-decoration: none;\n  font-weight: 500;\n  cursor: pointer;\n\n  &:hover {\n    color: orangered;\n  }\n"]))),l=u.ZP.img(o||(o=(0,c.Z)(["\n  display: block;\n  margin-bottom: 15px;\n  width: 200px;\n  height: 300px;\n"]))),d=u.ZP.ul(a||(a=(0,c.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 30px;\n  justify-content: center;\n"]))),h=e(174),v=e(7689),g=e(184),y=function(t){var n=t.films,e=(0,v.TH)();return(0,g.jsx)(d,{children:n.map((function(t,n){return(0,g.jsx)(f,{children:(0,g.jsxs)(p,{to:"/movies/".concat(t.id),state:{from:e},children:[(0,g.jsx)(l,{src:(0,h.Z)(t.poster_path),alt:t.title}),t.title||t.name]})},t.id)}))})}},174:function(t,n,e){function r(t){return t?"https://image.tmdb.org/t/p/w500/".concat(t):"https://via.placeholder.com/150/d3d3d3/ffffff?text=No++photo"}e.d(n,{Z:function(){return r}})},7211:function(t,n,e){e.r(n),e.d(n,{default:function(){return O}});var r,i=e(3433),o=e(9439),a=e(4591),c=e(3291),u=e(2791),s=e(168),f=e(6444).ZP.h2(r||(r=(0,s.Z)(["\n  text-align: center;\n"]))),p=e(9014),l=e(5671),d=e(3144),h=e(136),v=e(4104);function g(){return g=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},g.apply(this,arguments)}var y=new Map,m=new WeakMap,w=0,x=void 0;function b(t){return Object.keys(t).sort().filter((function(n){return void 0!==t[n]})).map((function(n){return"".concat(n,"_").concat("root"===n?(e=t.root)?(m.has(e)||(w+=1,m.set(e,w.toString())),m.get(e)):"0":t[n]);var e})).toString()}function Z(t){var n=b(t),e=y.get(n);if(!e){var r,i=new Map,o=new IntersectionObserver((function(n){n.forEach((function(n){var e,o=n.isIntersecting&&r.some((function(t){return n.intersectionRatio>=t}));t.trackVisibility&&"undefined"===typeof n.isVisible&&(n.isVisible=o),null==(e=i.get(n.target))||e.forEach((function(t){t(o,n)}))}))}),t);r=o.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),e={id:n,observer:o,elements:i},y.set(n,e)}return e}function k(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=t.getBoundingClientRect();return n(r,{isIntersecting:r,target:t,intersectionRatio:"number"===typeof e.threshold?e.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=Z(e),a=o.id,c=o.observer,u=o.elements,s=u.get(t)||[];return u.has(t)||u.set(t,s),s.push(n),c.observe(t),function(){s.splice(s.indexOf(n),1),0===s.length&&(u.delete(t),c.unobserve(t)),0===u.size&&(c.disconnect(),y.delete(a))}}var V=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function j(t){return"function"!==typeof t.children}u.Component;var _=e(2472),I=e(184);var O=function(){var t=(0,u.useState)([]),n=(0,o.Z)(t,2),e=n[0],r=n[1],s=(0,u.useState)(!1),l=(0,o.Z)(s,2),d=l[0],h=l[1],v=(0,u.useState)(1),g=(0,o.Z)(v,2),y=g[0],m=g[1],w=function(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.threshold,r=n.delay,i=n.trackVisibility,a=n.rootMargin,c=n.root,s=n.triggerOnce,f=n.skip,p=n.initialInView,l=n.fallbackInView,d=n.onChange,h=u.useState(null),v=(0,o.Z)(h,2),g=v[0],y=v[1],m=u.useRef(),w=u.useState({inView:!!p,entry:void 0}),x=(0,o.Z)(w,2),b=x[0],Z=x[1];m.current=d,u.useEffect((function(){var t;if(!f&&g)return t=k(g,(function(n,e){Z({inView:n,entry:e}),m.current&&m.current(n,e),e.isIntersecting&&s&&t&&(t(),t=void 0)}),{root:c,rootMargin:a,threshold:e,trackVisibility:i,delay:r},l),function(){t&&t()}}),[Array.isArray(e)?e.toString():e,g,c,a,s,f,i,l,r]);var V=null==(t=b.entry)?void 0:t.target;u.useEffect((function(){g||!V||s||f||Z({inView:!!p,entry:void 0})}),[g,V,s,f,p]);var j=[y,b.inView,b.entry];return j.ref=j[0],j.inView=j[1],j.entry=j[2],j}({rootMargin:"400px 0px",onChange:function(t){t&&(console.log("View is true increment page, ",y),m((function(t){return t+1})))}}),x=w.ref;return(0,u.useEffect)((function(){h(!0),(0,a.Hg)(y).then((function(t){var n=t.results;r((function(t){return[].concat((0,i.Z)(t),(0,i.Z)(n))}))})).catch((function(t){p.ZP.error("Oops, try again later")})).finally((function(){h(!1)}))}),[y]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(f,{children:"Trending Today"}),d&&(0,I.jsx)(_.Z,{}),(0,I.jsx)(c.Z,{films:e}),(0,I.jsx)("div",{ref:x}),(0,I.jsx)(p.x7,{position:"top-right"})]})}}}]);
//# sourceMappingURL=211.705e2118.chunk.js.map
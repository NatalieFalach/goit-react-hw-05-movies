{"version":3,"file":"static/js/33.e9766818.chunk.js","mappings":"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","sources":["api/MovieDbApi.js","helpers/getImageUrl.js","pages/MovieDetails/MovieDetails.styled.js","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = '8b8b26a0b27e03ef23871d035772175e';\n\nexport async function getTrending(page = 1) {\n  const { data: response } = await axios.get(`/trending/movie/week`, {\n    params: {\n      api_key: API_KEY,\n      page: page,\n    },\n  });\n  return response;\n}\n\nexport async function getFilmById(id) {\n  const { data: response } = await axios.get(`movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response;\n}\n\nexport async function getCastById(id) {\n  const { data: response } = await axios.get(`movie/${id}/credits`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response;\n}\n\nexport async function getReviewsById(id) {\n  const { data: response } = await axios.get(`movie/${id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n    },\n  });\n  return response;\n}\n\nexport async function getMovieBySearch(search, page = 1) {\n  const { data: response } = await axios.get(`search/movie`, {\n    params: {\n      api_key: API_KEY,\n      query: search,\n      page: page,\n    },\n  });\n  return response;\n}\n","export default function getImageUrl(imageName) {\n  return imageName\n    ? `https://image.tmdb.org/t/p/w500${imageName}`\n    : 'https://via.placeholder.com/150/d3d3d3/ffffff?text=No++photo';\n}\n","import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const Container = styled.div`\n  display: flex;\n`;\n\nexport const Wrapper = styled.div`\n  display: block;\n  margin-left: 30px;\n`;\n\nexport const Img = styled.img`\n  width: 300px;\n  height: 400px;\n`;\n\nexport const Info = styled.p`\n  margin-bottom: 10px;\n  margin-top: 10px;\n`;\n\nexport const SubMenu = styled.ul`\n  display: flex;\n  gap: 30px;\n`;\n\nexport const StyledLink = styled(NavLink)`\n  text-decoration: none;\n  margin-top: 15px;\n  &.active button {\n    background: orangered;\n    color: white;\n  }\n`;\n\nexport const Button = styled.button`\n  padding: 10px 0;\n  width: 150px;\n  background: lightgray;\n  outline: none;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  &:hover {\n    color: white;\n    background: orangered;\n  }\n`;\n\nexport const ButtonBack = styled.button`\n  padding: 8px 0;\n  margin-bottom: 5px;\n  width: 100px;\n  background: lightgray;\n  outline: none;\n  border: none;\n  border-radius: 8px;\n  cursor: pointer;\n  &:hover {\n    color: white;\n    background: orangered;\n  }\n`;\n\nexport const ErrorMessage = styled.div`\n  margin: 20px auto;\n  width: 180px;\n  font-weight: 700;\n  color: orangered;\n`;\n","import { getFilmById } from \"../../api/MovieDbApi\";\nimport { useEffect, useState } from \"react\";\nimport { useLocation, useParams } from \"react-router-dom\";\nimport { Container, Wrapper, Img, Info, StyledLink, Button, SubMenu ,ButtonBack, ErrorMessage} from './MovieDetails.styled';\nimport { Outlet } from \"react-router-dom\";\nimport { Suspense } from \"react\";\nimport getImageUrl from \"helpers/getImageUrl\";\nimport Spinner from \"components/Spinner/Spinner\";\n\nconst MovieDetails = () => {\n  const { filmId } = useParams();\n  const [isLoading, setIsLoading] = useState(false);\n  const [data, setData] = useState(null);\n  const [error, setError] = useState('');\n  const location = useLocation();\n  const backLinkHref = location.state?.from ?? \"/\";\n\n  useEffect(() => {\n    setIsLoading(true);\n    setError('');\n    getFilmById(filmId).then((data) => {\n      if (!data) {\n        setError('Nothing found');\n      }\n      setData(data);\n    }).catch((error) => {\n      setError('Ops...try again latter');\n    }).finally(() => {\n      setIsLoading(false);\n    })\n  }, [filmId])\n\n  const getGenres = (genres) => {\n    return genres.map((item) => item.name).join(', ');\n  }\n\n  return (\n    <>\n      <StyledLink to={backLinkHref}><ButtonBack>Back</ButtonBack></StyledLink>\n      {isLoading && <Spinner />}\n      {error && <ErrorMessage>{ error }</ErrorMessage>}\n      {data && (\n        <Container>\n          <Img src={getImageUrl(data.poster_path)} alt={data.title} />\n          <Wrapper>\n            <h2>{data.title} ({new Date(data.release_date).getFullYear()})</h2>\n            <Info>User Score: {Math.round(data.vote_average * 10)}%</Info>\n            <h3>Overview</h3>\n            <Info>{ data.overview}</Info>\n            <h4>Genres</h4>\n            <Info>{getGenres(data.genres)}</Info>\n            <SubMenu>\n              <li><StyledLink to=\"cast\" state={{from: backLinkHref}}><Button>Cast</Button></StyledLink></li>\n              <li><StyledLink to=\"reviews\" state={{from: backLinkHref}}><Button>Reviews</Button></StyledLink></li>\n            </SubMenu>\n          </Wrapper>\n        </Container>\n      )}\n      <Suspense>\n        <Outlet />\n      </Suspense>\n    </>\n  )\n};\n\nexport default MovieDetails;\n\n\n"],"names":["axios","API_KEY","getTrending","page","params","api_key","response","data","getFilmById","id","getCastById","getReviewsById","getMovieBySearch","search","query","getImageUrl","imageName","Container","styled","Wrapper","Img","Info","SubMenu","StyledLink","NavLink","Button","ButtonBack","ErrorMessage","filmId","useParams","useState","isLoading","setIsLoading","setData","error","setError","backLinkHref","useLocation","state","from","useEffect","then","catch","finally","genres","to","Spinner","src","poster_path","alt","title","Date","release_date","getFullYear","Math","round","vote_average","overview","map","item","name","join","Suspense"],"sourceRoot":""}